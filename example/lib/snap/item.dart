part of 'snap.dart';

class _Data {
  double t = 0;
  bool e = false;
}

class _Item extends StatefulWidget {
  const _Item({required this.index, required this.data, required this.parent, super.key});

  final int index;
  final _Data data;
  final ScrollSnapController parent;

  @override
  State<_Item> createState() => _ItemState();
}

class _ItemState extends State<_Item> with TickerProviderStateMixin {
  _Data get data => widget.data;

  late final _a = AnimationController(vsync: this, duration: const Duration(milliseconds: 200))..addListener(_cb);

  void _cb() {
    data.t = _a.value;
    widget.parent.rebuild?.call();
  }

  final _controller = ScrollController();

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      behavior: HitTestBehavior.opaque,
      onTap: () {
        data.e = !data.e;
        if (data.e) {
          unawaited(_a.forward());
        } else {
          unawaited(_a.reverse());
        }
      },
      child: Listener(
        onPointerSignal: (event) {
          if (event is PointerScrollEvent) {
            context.findAncestorStateOfType<ScrollableExState>()?.isPointerPrevent = true;
          }
        },
        child: Padding(
          padding: const EdgeInsets.only(bottom: 20),
          child: Stack(
            children: [
              const Placeholder(),
              Positioned.fill(
                  child: NotificationListener<ScrollNotification>(
                onNotification: (notification) => true,
                child: SingleChildScrollView(
                  controller: _controller,
                  child: const Text(_t),
                ),
              ))
            ],
          ),
        ),
      ),
    );
  }
}

const _t = '''
–•–æ—Ä–æ—à–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è –∫—É–ø–∞–Ω–∏—è –≤ —Å–≥—É—â—ë–Ω–∫–µ. –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç. –ö—É–ø–∞–Ω–∏–µ –≤ —Å–≥—É—â—ë–Ω–∫–µ –∑–≤—É—á–∏—Ç –Ω–µ–æ–±—ã—á–Ω–æ –∏, –≤–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –º–µ—Ç–∞—Ñ–æ—Ä–∞ –∏–ª–∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω–∞—è –∏–¥–µ—è –¥–ª—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è. –ù–∞–¥–æ —É—Ç–æ—á–Ω–∏—Ç—å, –Ω–æ —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Ä–µ—á—å –∏–¥–µ—Ç –æ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–µ—á–µ—Ä–∏–Ω–∫–µ –∏–ª–∏ –Ω–µ–æ–±—ã—á–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏.

–°–≥—É—â—ë–Ω–∫–∞ –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç—Å—è —Å —á–µ–º-—Ç–æ —Å–ª–∞–¥–∫–∏–º, –Ω–æ—Å—Ç–∞–ª—å–≥–∏—á–µ—Å–∫–∏–º, –≤–æ–∑–º–æ–∂–Ω–æ, –¥–µ—Ç—Å—Ç–≤–æ–º. –ù—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–≥—Ä–∏–≤—ã–π –∏ –∑–∞–º–∞–Ω—á–∏–≤—ã–π —Ç–æ–Ω. –í–∞–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —è—Ä–∫–∏–µ –æ–±—Ä–∞–∑—ã: –≥—É—Å—Ç–∞—è, —Å–ª–∞–¥–∫–∞—è, –∞—Ä–æ–º–∞—Ç–Ω–∞—è —Å–≥—É—â—ë–Ω–∫–∞. –°—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è.

–ù—É–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤–ª–µ—á–µ—Ç –≤–Ω–∏–º–∞–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –°–ª–∞–¥–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –∏–ª–∏ –ù–µ–∑–∞–±—ã–≤–∞–µ–º–æ–µ –∫—É–ø–∞–Ω–∏–µ –≤ –º–æ–ª–æ—á–Ω–æ–π —Å–ª–∞–¥–æ—Å—Ç–∏. –ó–∞—Ç–µ–º –æ–ø–∏—Å–∞—Ç—å, —á—Ç–æ –∂–¥–µ—Ç –≥–æ—Å—Ç–µ–π: –≤–∞–Ω–Ω–∞ —Å–æ —Å–≥—É—â—ë–Ω–∫–æ–π, –≤–æ–∑–º–æ–∂–Ω–æ, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è, —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—è, —É–≥–æ—â–µ–Ω–∏—è.

–í–∞–∂–Ω–æ —É—á–µ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã: —É–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É, –≤—Ä–µ–º—è, –º–µ—Å—Ç–æ, dress code (–≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ-—Ç–æ –ª–µ–≥–∫–æ–µ –¥–ª—è —Å—Ç–∏—Ä–∫–∏ –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–¥–µ–∂–¥–∞). –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–∏—è.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –±—ã–ª –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º, –≤–µ—Å–µ–ª—ã–º, –ø–æ–±—É–∂–¥–∞–ª –∫ –¥–µ–π—Å—Ç–≤–∏—é. –ò–∑–±–µ–∂–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∞–ª–ª–µ—Ä–≥–∏—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π, –µ—Å–ª–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ —Ä–µ–∞–ª—å–Ω–æ–µ. –ù–æ –µ—Å–ª–∏ —ç—Ç–æ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ, –≤–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ.

–ú–æ–∂–µ—Ç –±—ã—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å —à—É—Ç–∫—É –∏–ª–∏ –∏–≥—Ä—É —Å–ª–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å–æ —Å–ª–∞–¥–æ—Å—Ç—è–º–∏. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ.

–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ –°–ª–∞–¥–∫–æ–µ –ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ

–î–æ—Ä–æ–≥–æ–π(–∞—è) [–ò–º—è]!

–ü—Ä–µ–¥—Å—Ç–∞–≤—å: –±–∞—Ä—Ö–∞—Ç–Ω–∞—è –≥–ª–∞–¥—å, –≥—É—Å—Ç–æ–π –∞—Ä–æ–º–∞—Ç –≤–∞–Ω–∏–ª–∏, –∏ —Ç—ã ‚Äî –≤ —Å–∞–º–æ–º —Ü–µ–Ω—Ç—Ä–µ –º–æ–ª–æ—á–Ω–æ–π —Å–ª–∞–¥–æ—Å—Ç–∏! üåü

–ü—Ä–∏–≥–ª–∞—à–∞–µ–º —Ç–µ–±—è –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ ‚Äî –∫—É–ø–∞–Ω–∏–µ –≤ –æ–∫–µ–∞–Ω–µ —Å–≥—É—â—ë–Ω–Ω–æ–≥–æ –º–æ–ª–æ–∫–∞!

–ñ–¥—ë–º —Ç–µ–±—è:
üìÖ [–î–∞—Ç–∞]
‚è∞ [–í—Ä–µ–º—è]
üìç [–ú–µ—Å—Ç–æ]

–í –ø—Ä–æ–≥—Ä–∞–º–º–µ:
üçØ –ì–ª–∞–≤–Ω—ã–π –∞—Ç—Ç—Ä–∞–∫—Ü–∏–æ–Ω: –≥–∏–≥–∞–Ω—Ç—Å–∫–∞—è –≤–∞–Ω–Ω–∞, –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ç–µ–ø–ª–æ–π —Å–≥—É—â—ë–Ω–∫–æ–π (–∏ –¥–∞, —ç—Ç–æ —Ç–∞–∫ –≤–∫—É—Å–Ω–æ, –∫–∞–∫ –∑–≤—É—á–∏—Ç!).
üì∏ –°–ª–∞–¥–∫–∞—è —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏—è: –∫–∞–¥—Ä—ã, –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö —É Instagram —Å–ª—É—á–∏—Ç—Å—è –≤–æ—Å—Ç–æ—Ä–∂–µ–Ω–Ω—ã–π –≤–∑—Ä—ã–≤!
üéâ –î–µ–≥—É—Å—Ç–∞—Ü–∏—è: —Ç–æ–ø–ø–∏–Ω–≥–∏, –±–ª–∏–Ω—á–∏–∫–∏ –∏ –≤—Å—ë, —á—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –¥–µ–Ω—å –µ—â—ë —Å–ª–∞—â–µ.

–î—Ä–µ—Å—Å-–∫–æ–¥: –±–µ–ª–æ–µ (–∏–ª–∏ —Ç–æ, —á—Ç–æ –Ω–µ –∂–∞–ª–∫–æ –ø–æ–∫—Ä—ã—Ç—å—Å—è –∑–æ–ª–æ—Ç–∏—Å—Ç—ã–º–∏ –∫–∞–ø–ª—è–º–∏ —Å–ª–∞–¥–æ—Å—Ç–∏).

P.S. –ê–ª–ª–µ—Ä–≥–∏—è –Ω–∞ —É–ª—ã–±–∫–∏ –∏ —Ö–æ—Ä–æ—à–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏–µ!

–ü–æ–¥—Ç–≤–µ—Ä–¥–∏ —É—á–∞—Å—Ç–∏–µ –¥–æ [—á–∏—Å–ª–æ] –∏ –ø—Ä–∏–≥–æ—Ç–æ–≤—å—Å—è –∫ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º–æ–º—É –ø–æ–≥—Ä—É–∂–µ–Ω–∏—é!
üì≤ [–ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –æ—Ç–≤–µ—Ç–∞]

–ù–µ —É–ø—É—Å—Ç–∏ —à–∞–Ω—Å —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é —ç—Ç–æ–≥–æ –±–µ–∑—É–º–Ω–æ-–≤–∫—É—Å–Ω–æ–≥–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è! –î–æ –≤—Å—Ç—Ä–µ—á–∏ –≤ —Å–ª–∞–¥–∫–æ–π –≤–æ–ª–Ω–µ! ü•Ñüíõ

P.P.S. –ü–æ–ª–æ—Ç–µ–Ω—Ü–∞, –¥—É—à –∏ –º–æ—Ä–µ –ø–æ–∑–∏—Ç–∏–≤–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –º—ã. –û—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –≤–æ–∑—å–º–∏ —Å —Å–æ–±–æ–π!
''';
